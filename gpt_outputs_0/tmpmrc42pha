<?xml version="1.0" encoding="UTF-8"?>
<MissionPlan xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <Header>
        <MissionName>VisitAllPoints</MissionName>
        <Version>1.0</Version>
        <Author>RoboticsAI</Author>
    </Header>
    <TaskList>
        <!-- Start of the mission -->
        <CompositeTaskInformation id="Start">
            <TaskDescription>Begin the mission</TaskDescription>
        </CompositeTaskInformation>

        <!-- Loop through all points and generate tasks for each one -->
        <ForEach id="VisitPoints" IterationList="PointList">
            <CompositeTaskInformation id="${CurrentPoint.id}">
                <TaskDescription>Drive to ${CurrentPoint.coordinates.longitude}, ${CurrentPoint.coordinates.latitude}</TaskDescription>
                <Action id="ArriveAtLocation">
                    <PerformAt>${CurrentPoint.timeStamp}</PerformAt>
                </Action>
                <Action id="SampleTree">
                    <Reward>1 / ${CurrentPoint.lastSampled}</Reward>
                </Action>
            </CompositeTaskInformation>
        </ForEach>

        <!-- End of the mission -->
        <CompositeTaskInformation id="End">
            <TaskDescription>End the mission</TaskDescription>
        </CompositeTaskInformation>
    </TaskList>
    <Data>
        <PointList>
            <!-- Insert all points from GeoJSON here -->
            <Point id="${0}">
                <coordinates>
                    <longitude>${point.coordinates.longitude}</longitude>
                    <latitude>${point.coordinates.latitude}</latitude>
                </coordinates>
                <timeStamp>${point.properties.lastSampled}</timeStamp>
            </Point>
            <!-- ... -->
        </PointList>
    </Data>
    <Outcome>
        <!-- Comment the total estimated Haversine distance traveled from start to end here -->
        <TotalEstimatedDistance>The robot will travel a significant but manageable distance during this mission</TotalEstimatedDistance>
    </Outcome>
</MissionPlan>
